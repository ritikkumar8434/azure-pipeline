container_commands:
  01_storage_permissions:
    command: "chmod -R 755 storage bootstrap/cache"
    ignoreErrors: true
  02_env_file:
    command: "if [ ! -f .env ]; then cp .env.example .env; fi"
    ignoreErrors: true
  03_key_generate:
    command: "php artisan key:generate --force"
    ignoreErrors: true

option_settings:
  aws:elasticbeanstalk:container:php:phpini:
    document_root: /public
    memory_limit: 256M
    zlib.output_compression: "On"
  aws:elasticbeanstalk:application:environment:
    APP_ENV: production
    APP_DEBUG: false
    APP_KEY: "base64:your-key-will-be-generated"
    APP_URL: "http://localhost"
    LOG_CHANNEL: stderr
